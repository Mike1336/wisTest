<mat-toolbar>
    <a routerLink="/">
      <span>Phone-Shop</span>
    </a>
    <span class="example-spacer"></span>
    <div id='pages'>
      <button mat-icon-button [matMenuTriggerFor]="shortFav" class="example-icon favorite-icon" aria-label="Example icon-button with heart icon">
        <mat-icon *ngIf="favList.length > 0; else simpleFavIcon" matBadge="{{favList.length}}" matBadgeColor="warn">favorite</mat-icon>
          <ng-template #simpleFavIcon>
            <mat-icon>favorite</mat-icon>
          </ng-template>
      </button>
      <mat-menu #shortFav="matMenu">
        <div class="shortMenu" *ngIf="favList.length > 0; else emptyFav">
          <div *ngFor="let item of favList">
            <img [src]="item.img" (click)="openItemDetails(item)">
            <span (click)="openItemDetails(item)">{{item.name}}</span>
            <button mat-icon-button (click)="openDialog(1, item)">
              <mat-icon>delete</mat-icon>
            </button> 
          </div>
        </div>
      <ng-template #emptyFav>
        <button mat-menu-item >
          <span>Favorites list is empty :(</span>
        </button>
      </ng-template>  
        <button mat-menu-item>
          <a routerLink="favorites">
          <mat-icon>favorite</mat-icon>
          <span>Link to the page</span>
          </a>
        </button>
      </mat-menu>
    
      <button mat-icon-button [matMenuTriggerFor]="shortCart" class="example-icon" aria-label="Example icon-button with share icon">
        <mat-icon *ngIf="cartList.length > 0; else simpleCartIcon" matBadge="{{cartList.length}}" matBadgeColor="warn">shopping_cart</mat-icon>
        <ng-template #simpleCartIcon>
          <mat-icon>shopping_cart</mat-icon>
        </ng-template>
      </button>
      
      <mat-menu #shortCart="matMenu">
        <div class="shortMenu" *ngIf="cartList.length > 0; else emptyCart">
          <div *ngFor="let item of cartList" >
            <img [src]="item.img" (click)="openItemDetails(item)">
            <span (click)="openItemDetails(item)">{{item.name}}</span>
            <div>
              <mat-form-field class="example-full-width" >
                <mat-label>Quantity</mat-label>
                <input type="number" matInput  [(ngModel)]="item.quantity" (ngModelChange)="updateTotalPrice(item)">
              </mat-form-field>
              <button mat-icon-button (click)="openDialog(2, item)">
                <mat-icon>delete</mat-icon>
              </button> 
            </div>
          </div>
          <h4><strong>Total price: {{totalPrice}} â‚½</strong></h4>
        </div>
        <ng-template #emptyCart>
          <button mat-menu-item >
            <span>Cart is empty :(</span>
          </button>
        </ng-template>    
        <button mat-menu-item>
          <a routerLink="cart">
          <mat-icon>shopping_cart</mat-icon>
          <span>Link to the page</span>
        </a>
        </button>
      </mat-menu>
    </div>
    
  </mat-toolbar>
